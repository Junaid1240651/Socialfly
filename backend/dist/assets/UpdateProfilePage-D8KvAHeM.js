import{q as y,f as v,j as e,d as C,e as S,u as _,c as I,r as j,t as N,F as P,k,l as t,a as m,I as o,b as U,o as E}from"./index-JVrb99rO.js";import{S as x}from"./chunk-ZHMYA64R-B818bYut.js";import{H as F,F as l}from"./chunk-7OLJDQMT-BiNxCpOt.js";import{A as L}from"./chunk-V7PAE35Z-D2UZjn2e.js";var g=y("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});g.displayName="Center";var R={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};v(function(h,i){const{axis:c="both",...d}=h;return e.jsx(y.div,{ref:i,__css:R[c],...d,position:"absolute"})});const D=()=>{const a=C(r=>r.user.userInfo),h=S(),i=_(),{isLoading:c,setLoading:d}=I(),[s,n]=j.useState({name:a.name,userName:a.userName,email:a.email,bio:a.bio,profilePic:a.profilePic,password:""}),p=j.useRef(null),{handleImageChange:b,imageURL:f}=N(),w=async r=>{if(r.preventDefault(),!c){d(!0);try{s.profilePic=f;const u=await U.put(`/api/users/update/${a._id}`,{inputs:s});h(E(u.data.user)),i("Success",u.data.message,"success")}catch(u){i("Error",u.response.data.error,"error")}finally{d(!1)}}};return e.jsx("form",{onSubmit:w,children:e.jsx(P,{align:"center",justify:"center",children:e.jsxs(x,{spacing:4,w:"full",maxW:"md",bg:k("white","gray.dark"),rounded:"xl",boxShadow:"lg",p:6,my:12,children:[e.jsx(F,{lineHeight:1.1,fontSize:{base:"2xl",sm:"3xl"},children:"User Profile Edit"}),e.jsxs(t,{children:[e.jsx(l,{children:"User Icon"}),e.jsxs(x,{direction:["column","row"],spacing:6,children:[e.jsx(g,{children:e.jsx(L,{cursor:"pointer",size:"xl",src:f||a.profilePic,onClick:()=>p.current.click()})}),e.jsxs(g,{w:"full",children:[e.jsx(m,{w:"full",onClick:()=>p.current.click(),children:"Change Avatar"}),e.jsx(o,{type:"file",hidden:!0,ref:p,onChange:b})]})]})]}),e.jsxs(t,{children:[e.jsx(l,{children:"Name"}),e.jsx(o,{placeholder:"Name",_placeholder:{color:"gray.500"},type:"text",onChange:r=>n({...s,name:r.target.value}),value:s.name})]}),e.jsxs(t,{children:[e.jsx(l,{children:"User Name"}),e.jsx(o,{placeholder:"UserName",_placeholder:{color:"gray.500"},type:"text",onChange:r=>n({...s,userName:r.target.value}),value:s.userName})]}),e.jsxs(t,{children:[e.jsx(l,{children:"Email address"}),e.jsx(o,{placeholder:"your-email@example.com",_placeholder:{color:"gray.500"},type:"email",onChange:r=>n({...s,email:r.target.value}),value:s.email})]}),e.jsxs(t,{children:[e.jsx(l,{children:"Bio"}),e.jsx(o,{placeholder:"Your Bio...",_placeholder:{color:"gray.500"},type:"text",onChange:r=>n({...s,bio:r.target.value}),value:s.bio})]})," ",e.jsxs(t,{children:[e.jsx(l,{children:"Password"}),e.jsx(o,{placeholder:"password",_placeholder:{color:"gray.500"},type:"password",onChange:r=>n({...s,password:r.target.value}),value:s.password})]}),e.jsxs(x,{spacing:6,direction:["column","row"],children:[e.jsx(m,{bg:"red.400",color:"white",w:"full",_hover:{bg:"red.500"},children:"Cancel"}),e.jsx(m,{bg:"green.400",color:"white",w:"full",_hover:{bg:"green.500"},type:"submit",isLoading:c,children:"Submit"})]})]})})})};export{D as default};
